{
  "Urls": "http://*:9020",
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "Serilog": {
    "Using": [ "Serilog.Sinks.Console" ],
    "MinimumLevel": "Debug",
    "Override": {
      "Microsoft": "Warning",
      "System": "Warning"
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff} {Level:u3}, {ThreadId}] {Message:lj}{NewLine}{Exception}",
          "restrictedToMinimumLevel": "Verbose"
        }
      },
      {
        "Name": "Udp",
        "Args": {
          "remoteAddress": "localhost",
          "remotePort": 7071,
          "family": "InterNetwork",
          "formatter": "Serilog.Sinks.Udp.TextFormatters.Log4jTextFormatter, Serilog.Sinks.Udp"
        }
      }
    ],
    "Enrich": [ "FromLogContext", "WithMachineName" ],

    "Properties": {
      "Application": "Biovation.Server"
    }
  },
  "MassTransit": {
    "RabbitMQ": {
      "Host": "localhost",
      "Port": 5672,
      "VirtualAddress": "",
      "UserName": "guest",
      "Password": "guest",
      "ReceiveEndpoints": [
        {
          "Consumer": {
            "name": "",
            "queueName": "",
            "exchangeName": "",
            "prefetchCount": 16,
            "durable": true,
            "queueArguments": {},
            "exchangeArguments": {},
            "purgeOnStartup": true,
            "exchangeType": "fanout",
            "bindings": [
              {
                "exchange": {
                  "exchangeName": "TestService.Contracts:UpdateCustomerAddress",
                  "exchangeType": "fanout",
                  "durable": true,
                  "arguments": {}
                },
                "routingKey": "",
                "arguments": {}
              }
            ]
          },
          "filters": [
            {
              "filterType": "deadLetter",
              "filters": {
                "filterType": "move",
                "destinationAddress": "rabbitmq://[::1]:5672/test/input_queue_skipped?bind=true&queue=input_queue_skipped"
              }
            },
            {
              "filterType": "rescue",
              "filters": {
                "filterType": "moveFault",
                "destinationAddress": "rabbitmq://[::1]:5672/test/input_queue_error?bind=true&queue=input_queue_error"
              }
            },
            {
              "filterType": "deserialize",
              "deserializers": {
                "json": {
                  "contentType": "application/vnd.masstransit+json"
                },
                "bson": {
                  "contentType": "application/vnd.masstransit+bson"
                },
                "xml": {
                  "contentType": "application/vnd.masstransit+xml"
                }
              },
              "pipe": {
                "TestService.Contracts.UpdateCustomerAddress": {
                  "filters": {
                    "filterType": "instance",
                    "type": "MassTransit.Testing.MultiTestConsumer+Of<TestService.Contracts.UpdateCustomerAddress>"
                  }
                }
              }
            }
          ]
        }
      ]
    } 
  },
  "MetricsOptions": {
    "Enabled": true,
    "ReportingEnabled": true,
    "DefaultContextLabel": "Biovation.Server"
  },
  "AppSettings": {
    "BiovationServerUrl": "localhost:9038",
    "UseHealthCheck": "True",
    "SoftwareLockAddress": "192.168.3.110",
    "SoftwareLockPort": 2105
  },
  "Jwt": {
    "Key": "ThisismySecretKey",
    "Issuer": "test1",
    "Audience": "test2"
  },
  "AllowedHosts": "*"
}
